This state machine was created using TTOOL
